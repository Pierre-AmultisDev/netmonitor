# NetMonitor MCP SSE Server (Legacy)
#
# Use this for Claude Desktop with SSE transport
# For HTTP API (recommended), use netmonitor-mcp.service instead
#
# Installation:
#   sudo cp netmonitor-mcp-sse.service /etc/systemd/system/netmonitor-mcp.service
#   sudo systemctl daemon-reload
#   sudo systemctl enable netmonitor-mcp
#   sudo systemctl start netmonitor-mcp

[Unit]
Description=NetMonitor MCP Server (SSE/HTTP)
After=network.target postgresql.service
Wants=postgresql.service

[Service]
Type=simple
User=root
WorkingDirectory=/opt/netmonitor/mcp_server/legacy_stdio_sse
EnvironmentFile=/opt/netmonitor/.env

# Legacy SSE Server
ExecStart=/opt/netmonitor/venv/bin/python3 /opt/netmonitor/mcp_server/legacy_stdio_sse/server.py \
    --transport sse \
    --host 0.0.0.0 \
    --port 3000

Restart=always
RestartSec=10

# Logging
StandardOutput=journal
StandardError=journal
SyslogIdentifier=netmonitor-mcp

[Install]
WantedBy=multi-user.target
